<!DOCTYPE html>
<html lang="en">
  <head>
    <title>LEAD INMOBILIARIA &mdash; Portal Inmobiliario</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Georgia+Pro:400,500,600,700&display=swap"> 
        <link rel="stylesheet" href="fonts/icomoon/style.css">
    
    <link rel="stylesheet" href="css/bootstrap.min.css">
    
    <style>
      /* Tipografía principal - Georgia Pro */
      body, html {
        font-family: 'Georgia Pro', Georgia, serif !important;
      }
      
      h1, h2, h3, h4, h5, h6 {
        font-family: 'Georgia Pro', Georgia, serif !important;
      }
      
      .text-white, .text-black, .text-success, .text-danger {
        font-family: 'Georgia Pro', Georgia, serif !important;
      }
    </style>
    <link rel="stylesheet" href="css/magnific-popup.css">
    <link rel="stylesheet" href="css/jquery-ui.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="css/mediaelementplayer.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="fonts/flaticon/font/flaticon.css">
    <link rel="stylesheet" href="css/fl-bigmug-line.css">
    
  
    <link rel="stylesheet" href="css/aos.css">

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/icons-simple.css">
    <link rel="stylesheet" href="css/property-images.css">
    <link rel="stylesheet" href="css/hero-images.css">
    <link rel="stylesheet" href="css/custom-colors.css">
    <link rel="icon" type="image/svg+xml" href="images/LEAD INMOBILIARI.svg">
    
  </head>
  <body>
  
  <div class="site-loader"></div>
  
  <div class="site-wrap">
    <div class="site-mobile-menu">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div> <!-- .site-mobile-menu -->
    <div class="site-navbar mt-4">
        <div class="container py-1">
          <div class="row align-items-center">
            <div class="col-8 col-md-8 col-lg-4 ml-5">
              <h1 class="mb-0"><a href="index.html" class="text-white h2 mb-0" aria-label="LEAD INMOBILIARIA" style="background-color: rgb(255 255 255 / 30%);"><img src="images/LEAD INMOBILIARI.svg" alt="LEAD INMOBILIARIA" style="height:150px"></a></h1>
            </div>
            <div class="col-4 col-md-4 col-lg-4">
              <nav class="site-navigation text-center
               text-md-center" style="background-color: rgb(255 255 255 / 30%); border-radius: 35px 35px 35px 35px;" role="navigation">

                <div class="d-inline-block d-lg-none ml-md-0 mr-auto py-3"><a href="#" class="site-menu-toggle js-menu-toggle text-white"><span class="icon-menu h3"></span></a></div>

                <ul class="site-menu js-clone-nav d-none d-lg-block">
                  <li class="active"><a href="index.html">Home</a></li>
                  <li><a href="terrenos.html">Terrenos</a></li>
                  <!-- <li><a href="buy.html">Buy</a></li>
                  <li><a href="rent.html">Rent</a></li>
                  <li class="has-children">
                    <a href="properties.html">Properties</a>
                    <ul class="dropdown arrow-top">
                      <li><a href="#">Condo</a></li>
                      <li><a href="#">Property Land</a></li>
                      <li><a href="#">Commercial Building</a></li>
                      <li class="has-children">
                        <a href="#">Sub Menu</a>
                        <ul class="dropdown">
                          <li><a href="#">Menu One</a></li>
                          <li><a href="#">Menu Two</a></li>
                          <li><a href="#">Menu Three</a></li>
                        </ul>
                      </li>
                    </ul>
                  </li>-->
                  
                  <li><a href="blog.html">Blog</a></li>
                  <li><a href="about.html">About</a></li>
                  <li><a href="contact.html">Contact</a></li> 
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="slide-one-item home-slider owl-carousel" id="hero-carousel">

      <div class="site-blocks-cover overlay" data-aos="fade" data-stellar-background-ratio="0.5">
        <img class="hero-img" src="images/hero_bg_1.jpg" alt="Hero 1" />
        <div class="container">
          <div class="row align-items-center justify-content-center text-center">
            <div class="col-md-10">
              <span class="d-inline-block bg-success text-white px-3 mb-3 property-offer-type rounded">For Rent</span>
              <h1 class="mb-2">871 Crenshaw Blvd</h1>
              <p class="mb-5"><strong class="h2 text-success font-weight-bold">$2,250,500</strong></p>
              <p><a href="#" class="btn btn-white btn-outline-white py-3 px-5 rounded-0 btn-2">See Details</a></p>
            </div>
          </div>
        </div>
      </div>  

      <div class="site-blocks-cover overlay" data-aos="fade" data-stellar-background-ratio="0.5">
        <img class="hero-img" src="images/hero_bg_2.jpg" alt="Hero 2" />
        <div class="container">
          <div class="row align-items-center justify-content-center text-center">
            <div class="col-md-10">
              <span class="d-inline-block bg-danger text-white px-3 mb-3 property-offer-type rounded">For Sale</span>
              <h1 class="mb-2">625 S. Berendo St</h1>
              <p class="mb-5"><strong class="h2 text-success font-weight-bold">$1,000,500</strong></p>
              <p><a href="#" class="btn btn-white btn-outline-white py-3 px-5 rounded-0 btn-2">See Details</a></p>
            </div>
          </div>
        </div>
      </div>  

    </div>


<!--     <div class="site-section site-section-sm pb-0">
      <div class="container">
        <div class="row">
          <form class="form-search col-md-12" style="margin-top: -100px;">
            <div class="row  align-items-end">
              <div class="col-md-3">
                <label for="list-types">Listing Types</label>
                <div class="select-wrap">
                  <span class="icon icon-arrow_drop_down"></span>
                  <select name="list-types" id="list-types" class="form-control d-block rounded-0">
                    <option value="">Condo</option>
                    <option value="">Commercial Building</option>
                    <option value="">Land Property</option>
                  </select>
                </div>
              </div>
              <div class="col-md-3">
                <label for="offer-types">Offer Type</label>
                <div class="select-wrap">
                  <span class="icon icon-arrow_drop_down"></span>
                  <select name="offer-types" id="offer-types" class="form-control d-block rounded-0">
                    <option value="">For Sale</option>
                    <option value="">For Rent</option>
                    <option value="">For Lease</option>
                  </select>
                </div>
              </div>
              <div class="col-md-3">
                <label for="select-city">Select City</label>
                <div class="select-wrap">
                  <span class="icon icon-arrow_drop_down"></span>
                  <select name="select-city" id="select-city" class="form-control d-block rounded-0">
                    <option value="">New York</option>
                    <option value="">Brooklyn</option>
                    <option value="">London</option>
                    <option value="">Japan</option>
                    <option value="">Philippines</option>
                  </select>
                </div>
              </div>
              <div class="col-md-3">
                <input type="submit" class="btn btn-success text-white btn-block rounded-0" value="Search">
              </div>
            </div>
          </form>
        </div>  

        <div class="row">
          <div class="col-md-12">
            <div class="view-options bg-white py-3 px-3 d-md-flex align-items-center">
              <div class="mr-auto">
                <a href="index.html" class="icon-view view-module active"><span class="icon-view_module"></span></a>
                <a href="view-list.html" class="icon-view view-list"><span class="icon-view_list"></span></a>
                
              </div>
              <div class="ml-auto d-flex align-items-center">
                <div>
                  <a href="#" class="view-list px-3 border-right active">All</a>
                  <a href="#" class="view-list px-3 border-right">Rent</a>
                  <a href="#" class="view-list px-3">Sale</a>
                </div>


                <div class="select-wrap">
                  <span class="icon icon-arrow_drop_down"></span>
                  <select class="form-control form-control-sm d-block rounded-0">
                    <option value="">Sort by</option>
                    <option value="">Price Ascending</option>
                    <option value="">Price Descending</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
       
      </div>
    </div> -->

    <div class="site-section site-section-sm bg-light">
      <div class="container">
      
        <!-- ===== CONTENEDOR DINÁMICO PARA PROPIEDADES ===== -->
        <div class="row mb-5" id="propiedades-container">
          <!-- Las propiedades se cargarán dinámicamente aquí -->
          <div class="col-12 text-center">
            <div class="spinner-border text-primary" role="status">
              <span class="sr-only">Cargando propiedades...</span>
            </div>
            <p class="mt-3">Cargando propiedades disponibles...</p>
            </div>
          </div>






        <div class="row">
          <div class="col-md-12 text-center">
            <div class="site-pagination">
              <a href="#" class="active">1</a>
              <a href="#">2</a>
              <a href="#">3</a>
              <a href="#">4</a>
              <a href="#">5</a>
              <span>...</span>
              <a href="#">10</a>
            </div>
          </div>  
        </div>
        
      </div>
    </div>

   <!--  <div class="site-section">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-7 text-center">
            <div class="site-section-title">
              <h2>Why Choose Us?</h2>
            </div>
            <p>Somos una inmobiliaria comprometida con brindar soluciones accesibles y seguras a las familias que buscan un hogar de calidad. Nuestra prioridad es ofrecer un servicio cercano, confiable y transparente, guiado siempre por nuestros asesores profesionales.</p>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 col-lg-4">
            <a href="#" class="service text-center">
              <span class="icon flaticon-house"></span>
              <h2 class="service-heading">Research Subburbs</h2>
              <p>Somos una inmobiliaria comprometida con brindar soluciones accesibles y seguras a las familias que buscan un hogar de calidad. Nuestra prioridad es ofrecer un servicio cercano, confiable y transparente, guiado siempre por nuestros asesores profesionales.</p>
              <p><span class="read-more">Read More</span></p>
            </a>
          </div>
          <div class="col-md-6 col-lg-4">
            <a href="#" class="service text-center">
              <span class="icon flaticon-sold"></span>
              <h2 class="service-heading">Sold Houses</h2>
              <p>Somos una inmobiliaria comprometida con brindar soluciones accesibles y seguras a las familias que buscan un hogar de calidad. Nuestra prioridad es ofrecer un servicio cercano, confiable y transparente, guiado siempre por nuestros asesores profesionales.</p>
              <p><span class="read-more">Read More</span></p>
            </a>
          </div>
          <div class="col-md-6 col-lg-4">
            <a href="#" class="service text-center">
              <span class="icon flaticon-camera"></span>
              <h2 class="service-heading">Security Priority</h2>
              <p>Somos una inmobiliaria comprometida con brindar soluciones accesibles y seguras a las familias que buscan un hogar de calidad. Nuestra prioridad es ofrecer un servicio cercano, confiable y transparente, guiado siempre por nuestros asesores profesionales.</p>
              <p><span class="read-more">Read More</span></p>
            </a>
          </div>
        </div>
      </div>
    </div> -->

   <!--  <div class="site-section bg-light">
      <div class="container">
        <div class="row justify-content-center mb-5">
          <div class="col-md-7 text-center">
            <div class="site-section-title">
              <h2>Recent Blog</h2>
            </div>
            <p>Somos una inmobiliaria comprometida con brindar soluciones accesibles y seguras a las familias que buscan un hogar de calidad. Nuestra prioridad es ofrecer un servicio cercano, confiable y transparente, guiado siempre por nuestros asesores profesionales.</p>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 col-lg-4 mb-5" data-aos="fade-up" data-aos-delay="100">
            <a href="#"><img src="images/img_4.jpg" alt="Image" class="img-fluid"></a>
            <div class="p-4 bg-white">
              <span class="d-block text-secondary small text-uppercase">Jan 20th, 2019</span>
              <h2 class="h5 text-black mb-3"><a href="#">Art Gossip by Mike Charles</a></h2>
              <p>Somos una inmobiliaria comprometida con brindar soluciones accesibles y seguras a las familias que buscan un hogar de calidad. Nuestra prioridad es ofrecer un servicio cercano, confiable y transparente, guiado siempre por nuestros asesores profesionales.</p>
            </div>
          </div>
          <div class="col-md-6 col-lg-4 mb-5" data-aos="fade-up" data-aos-delay="200">
            <a href="#"><img src="images/img_2.jpg" alt="Image" class="img-fluid"></a>
            <div class="p-4 bg-white">
              <span class="d-block text-secondary small text-uppercase">Jan 20th, 2019</span>
              <h2 class="h5 text-black mb-3"><a href="#">Art Gossip by Mike Charles</a></h2>
              <p>Somos una inmobiliaria comprometida con brindar soluciones accesibles y seguras a las familias que buscan un hogar de calidad. Nuestra prioridad es ofrecer un servicio cercano, confiable y transparente, guiado siempre por nuestros asesores profesionales.</p>
            </div>
          </div>
          <div class="col-md-6 col-lg-4 mb-5" data-aos="fade-up" data-aos-delay="300">
            <a href="#"><img src="images/img_3.jpg" alt="Image" class="img-fluid"></a>
            <div class="p-4 bg-white">
              <span class="d-block text-secondary small text-uppercase">Jan 20th, 2019</span>
              <h2 class="h5 text-black mb-3"><a href="#">Art Gossip by Mike Charles</a></h2>
              <p>Somos una inmobiliaria comprometida con brindar soluciones accesibles y seguras a las familias que buscan un hogar de calidad. Nuestra prioridad es ofrecer un servicio cercano, confiable y transparente, guiado siempre por nuestros asesores profesionales.</p>
            </div>
          </div>

        </div>

      </div>
    </div> -->

    
   <!--  <div class="site-section">
    <div class="container">
      <div class="row mb-5 justify-content-center">
        <div class="col-md-7">
          <div class="site-section-title text-center">
            <h2>Our Agents</h2>
            <p>Somos una inmobiliaria comprometida con brindar soluciones accesibles y seguras a las familias que buscan un hogar de calidad. Nuestra prioridad es ofrecer un servicio cercano, confiable y transparente, guiado siempre por nuestros asesores profesionales.</p>
          </div>
        </div>
      </div>
      <div class="row">
          <div class="col-md-6 col-lg-4 mb-5 mb-lg-5">
            <div class="team-member">

              <img src="images/person_1.jpg" alt="Image" class="img-fluid rounded mb-4">

              <div class="text">

                <h2 class="mb-2 font-weight-light text-black h4">Megan Smith</h2>
                <span class="d-block mb-3 text-white-opacity-05">Real Estate Agent</span>
                <p>Somos una inmobiliaria comprometida con brindar soluciones accesibles y seguras a las familias que buscan un hogar de calidad. Nuestra prioridad es ofrecer un servicio cercano, confiable y transparente, guiado siempre por nuestros asesores profesionales.</p>
                <p>
                  <a href="https://www.facebook.com/share/1AXrhPbypG/" target="_blank" class="text-black p-2"><span class="icon-facebook"></span></a>
                  <a href="#" class="text-black p-2"><span class="icon-twitter"></span></a>
                  <a href="#" class="text-black p-2"><span class="icon-linkedin"></span></a>
                </p>
              </div>

            </div>
          </div>

          <div class="col-md-6 col-lg-4 mb-5 mb-lg-5">
            <div class="team-member">

              <img src="images/person_2.jpg" alt="Image" class="img-fluid rounded mb-4">

              <div class="text">

                <h2 class="mb-2 font-weight-light text-black h4">Brooke Cagle</h2>
                <span class="d-block mb-3 text-white-opacity-05">Real Estate Agent</span>
                <p>Somos una inmobiliaria comprometida con brindar soluciones accesibles y seguras a las familias que buscan un hogar de calidad. Nuestra prioridad es ofrecer un servicio cercano, confiable y transparente, guiado siempre por nuestros asesores profesionales.</p>
                <p>
                  <a href="https://www.facebook.com/share/1AXrhPbypG/" target="_blank" class="text-black p-2"><span class="icon-facebook"></span></a>
                  <a href="#" class="text-black p-2"><span class="icon-twitter"></span></a>
                  <a href="#" class="text-black p-2"><span class="icon-linkedin"></span></a>
                </p>
              </div>

            </div>
          </div>

          <div class="col-md-6 col-lg-4 mb-5 mb-lg-5">
            <div class="team-member">

              <img src="images/person_3.jpg" alt="Image" class="img-fluid rounded mb-4">

              <div class="text">

                <h2 class="mb-2 font-weight-light text-black h4">Philip Martin</h2>
                <span class="d-block mb-3 text-white-opacity-05">Real Estate Agent</span>
                <p>Somos una inmobiliaria comprometida con brindar soluciones accesibles y seguras a las familias que buscan un hogar de calidad. Nuestra prioridad es ofrecer un servicio cercano, confiable y transparente, guiado siempre por nuestros asesores profesionales.</p>
                <p>
                  <a href="https://www.facebook.com/share/1AXrhPbypG/" target="_blank" class="text-black p-2"><span class="icon-facebook"></span></a>
                  <a href="#" class="text-black p-2"><span class="icon-twitter"></span></a>
                  <a href="#" class="text-black p-2"><span class="icon-linkedin"></span></a>
                </p>
              </div>

            </div>
          </div>

          

        </div>
    </div>
    </div> -->
    

    <footer class="site-footer">
      <div class="container">
        <div class="row">
          <div class="col-lg-4">
            <div class="mb-5">
              <h3 class="footer-heading mb-4">Acerca de LEAD INMOBILIARIA</h3>
              <p>Somos una inmobiliaria comprometida con brindar soluciones accesibles y seguras a las familias que buscan un hogar de calidad. Nuestra prioridad es ofrecer un servicio cercano, confiable y transparente, guiado siempre por nuestros asesores profesionales.</p>
            </div>

            
            
          </div>
          <div class="col-lg-4 mb-5 mb-lg-0">
           <!--  <div class="row mb-5">
              <div class="col-md-12">
                <h3 class="footer-heading mb-4">Navigations</h3>
              </div>
              <div class="col-md-6 col-lg-6">
                <ul class="list-unstyled">
                  <li><a href="#">Home</a></li>
                  <li><a href="#">Buy</a></li>
                  <li><a href="#">Rent</a></li>
                  <li><a href="#">Properties</a></li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-6">
                <ul class="list-unstyled">
                  <li><a href="#">About Us</a></li>
                  <li><a href="#">Privacy Policy</a></li>
                  <li><a href="#">Contact Us</a></li>
                  <li><a href="#">Terms</a></li>
                </ul>
              </div>
            </div> -->


          </div>

          <div class="col-lg-4 mb-5 mb-lg-0">
            <h3 class="footer-heading mb-4">Redes Sociales</h3>

                <div>
                  <a href="https://www.facebook.com/share/1AXrhPbypG/" target="_blank" class="pl-0 pr-3"><span class="icon-facebook"></span></a>
                  <a href="https://www.instagram.com/leadinmobiliaria?igsh=eHJ2Z3N5ZmZ1b2Ew" target="_blank" class="pl-3 pr-3"><span class="icon-instagram"></span></a>
                </div>

            

          </div>
          
        </div>
          
        </div>
      </div>
    </footer>

  </div>

  <script src="js/jquery-3.3.1.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/jquery-ui.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/mediaelement-and-player.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/jquery.countdown.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/bootstrap-datepicker.min.js"></script>
  <script src="js/aos.js"></script>
  <script src="config.js"></script>

  <script src="js/main.js"></script>
  
  <!-- ===== SCRIPT PARA CARGAR PROPIEDADES DINÁMICAMENTE ===== -->
  <script>
    // Función para cargar propiedades desde la API
    async function cargarPropiedadesMarketing() {
      try {
        console.log('🔄 Cargando propiedades de marketing...');
        
        // Usar la configuración del archivo config.js
        const endpoint = window.CONFIG?.API?.ENDPOINTS?.MARKETING_PUBLICO || '/api/publico/marketing';
        const response = await fetch(endpoint);
        const data = await response.json();
        
        console.log('📊 Respuesta de la API:', data);
        
        if (data.success) {
          mostrarPropiedades(data.proyectos);
          // También cargar en el hero
          cargarPropiedadesEnHero(data.proyectos);
        } else {
          mostrarError('Error al cargar las propiedades: ' + data.message);
        }
      } catch (error) {
        console.error('❌ Error cargando propiedades:', error);
        mostrarError('Error de conexión. Intenta recargar la página.');
      }
    }
    
    // Función para mostrar las propiedades
    function mostrarPropiedades(proyectos) {
      const container = document.getElementById('propiedades-container');
      
      if (!proyectos || proyectos.length === 0) {
        container.innerHTML = `
          <div class="col-12 text-center">
            <div class="alert alert-info">
              <h4>🏠 No hay propiedades disponibles</h4>
              <p>Actualmente no tenemos propiedades en venta. ¡Vuelve pronto!</p>
            </div>
          </div>
        `;
        return;
      }
      
      container.innerHTML = '';
      
      proyectos.forEach((proyecto, index) => {
        // Obtener la primera imagen como imagen principal usando la función del config.js
        const primeraImagen = window.getImageUrl ? 
          window.getImageUrl(proyecto.marketing?.imagenes?.[0]?.url) : 
          (proyecto.marketing?.imagenes?.[0]?.url || 'images/placeholder.jpg');
        
        // Obtener metadatos de la imagen para debugging
        const metadatos = proyecto.marketing?.imagenes?.[0]?.metadatos;
        const imagenInfo = metadatos ? 
          `Original: ${metadatos.original?.width || 'N/A'}x${metadatos.original?.height || 'N/A'} | Procesada: ${metadatos.procesada?.width || 'N/A'}x${metadatos.procesada?.height || 'N/A'}` : 
          'Metadatos no disponibles';
        
        // Formatear precio usando la función del config.js
        const precio = window.formatPrice ? 
          window.formatPrice(proyecto.marketing?.precioOferta, 'MXN') : 
          (proyecto.marketing?.precioOferta ? 
            `$${parseInt(proyecto.marketing.precioOferta).toLocaleString()}` : 
            'Precio a consultar');
        
        // Formatear dirección
        const direccion = proyecto.direccion?.calle || 'Ubicación disponible';
        
        // Formatear características
        const habitaciones = proyecto.caracteristicas?.habitaciones || 'N/A';
        const baños = proyecto.caracteristicas?.baños || 'N/A';
        const m2 = proyecto.caracteristicas?.m2_construccion || 'N/A';
        
        const html = `
          <div class="col-md-6 col-lg-4 mb-4" data-aos="fade-up" data-aos-delay="${index * 100}">
            <div class="property-entry h-100">
              <a href="property-details.html?id=${proyecto._id}" class="property-thumbnail">
                <div class="offer-type-wrap">
                  <span class="offer-type bg-danger">Venta</span>
                </div>
                <img src="${primeraImagen}" alt="Imagen de la propiedad" class="img-fluid" 
                     onerror="this.src='images/placeholder.jpg'">
              </a>
              <div class="p-4 property-body">
                <a href="#" class="property-favorite" onclick="toggleFavorito(this, '${proyecto._id}')">
                  <span class="icon-heart-o"></span>
                </a>
                <h2 class="property-title">
                  <a href="property-details.html?id=${proyecto._id}">
                    ${proyecto.marketing?.titulo || 'Propiedad en Venta'}
                  </a>
                </h2>
                <span class="property-location d-block mb-3">
                  <span class="property-icon icon-room"></span> 
                  ${direccion}
                </span>
                <strong class="property-price text-primary mb-3 d-block text-success">
                  ${precio}
                </strong>
                <ul class="property-specs-wrap mb-3 mb-lg-0">
                  <li>
                    <span class="property-specs">Habitaciones</span>
                    <span class="property-specs-number">${habitaciones}</span>
                  </li>
                  <li>
                    <span class="property-specs">Baños</span>
                    <span class="property-specs-number">${baños}</span>
                  </li>
                  <li>
                    <span class="property-specs">m²</span>
                    <span class="property-specs-number">${m2}</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        `;
        
        container.innerHTML += html;
        
        // Log de debugging para cada imagen
        if (metadatos) {
          console.log(`🖼️ Imagen ${index + 1}:`, {
            nombre: proyecto.marketing?.imagenes?.[0]?.nombre,
            url: primeraImagen,
            metadatos: imagenInfo
          });
        }
      });
      
      console.log(`✅ ${proyectos.length} propiedades cargadas correctamente`);
      console.log('📊 Todas las imágenes han sido redimensionadas a 800x600px para consistencia');
    }
    
    // Función para cargar propiedades en el carousel hero
    function cargarPropiedadesEnHero(proyectos) {
      const heroCarousel = document.getElementById('hero-carousel');
      
      if (!proyectos || proyectos.length === 0) {
        console.log('🏠 No hay propiedades para mostrar en el hero, manteniendo carousel por defecto');
        return;
      }
      
      // Limpiar el carousel existente
      heroCarousel.innerHTML = '';
      
      proyectos.forEach((proyecto, index) => {
        // Obtener la primera imagen
        const primeraImagen = window.getImageUrl ? 
          window.getImageUrl(proyecto.marketing?.imagenes?.[0]?.url) : 
          (proyecto.marketing?.imagenes?.[0]?.url || 'images/placeholder.jpg');
        
        // Formatear precio
        const precio = window.formatPrice ? 
          window.formatPrice(proyecto.marketing?.precioOferta, 'MXN') : 
          (proyecto.marketing?.precioOferta ? 
            `$${parseInt(proyecto.marketing.precioOferta).toLocaleString()}` : 
            'Precio a consultar');
        
        // Formatear dirección completa
        const direccion = proyecto.propiedad?.direccion;
        const direccionCompleta = direccion ? 
          `${direccion.calle} ${direccion.numero}, ${direccion.colonia}, ${direccion.ciudad}` : 
          'Ubicación disponible';
        
        // Formatear características
        const caracteristicas = proyecto?.caracteristicas;
        const habitaciones = caracteristicas?.habitaciones || 'N/A';
        const baños = caracteristicas?.baños || 'N/A';
        const m2 = caracteristicas?.m2_construccion || 'N/A';
        
        // Crear slide del carousel para cada propiedad
        const slideHtml = `
          <div class="site-blocks-cover overlay hero-property-slide" data-aos="fade" data-stellar-background-ratio="0.5">
            <img class="hero-img" src="${primeraImagen}" alt="${proyecto.marketing?.titulo || 'Propiedad'}" />
            <div class="container">
              <div class="row align-items-center justify-content-center text-center">
                <div class="col-md-10">
                  <span class="d-inline-block bg-danger text-white px-3 mb-3 property-offer-type rounded">Venta</span>
                  <h1 class="mb-2">${proyecto.marketing?.titulo || 'Propiedad en Venta'}</h1>
                  <p class="mb-3"><span class="icon-room"></span> ${direccionCompleta}</p>
                  <p class="mb-5"><strong class="h2 text-success font-weight-bold">${precio}</strong></p>
                  <div class="mb-4">
                    <span class="badge badge-light mr-2">🏠 ${habitaciones} Hab</span>
                    <span class="badge badge-light mr-2">🚿 ${baños} Baños</span>
                    <span class="badge badge-light">📐 ${m2} m²</span>
                  </div>
                  <p><a href="property-details.html?id=${proyecto._id}" class="btn btn-white btn-outline-white py-3 px-5 rounded-0 btn-2">Ver Detalles</a></p>
                </div>
              </div>
            </div>
          </div>
        `;
        
        heroCarousel.innerHTML += slideHtml;
        
        console.log(`🖼️ Slide ${index + 1} del Hero creado: ${proyecto.marketing?.titulo || 'Sin título'}`);
      });
      
      console.log(`✅ ${proyectos.length} slides del hero cargados correctamente`);
      
      // Reinicializar el carousel de Owl Carousel
      if (window.jQuery && window.jQuery.fn.owlCarousel) {
        try {
          const $carousel = window.jQuery('#hero-carousel');
          if ($carousel.length) {
            // Destruir el carrusel existente si ya está inicializado
            if ($carousel.hasClass('owl-loaded')) {
              $carousel.trigger('destroy.owl.carousel');
              $carousel.removeClass('owl-loaded owl-drag');
              console.log('🗑️ Carrusel anterior destruido');
            }
            
            // Pequeño delay para asegurar que la destrucción se complete
            setTimeout(() => {
              $carousel.owlCarousel({
                items: 1,
                loop: true,
                margin: 0,
                autoplay: true,
                autoplayTimeout: 5000,
                autoplayHoverPause: true,
                nav: true,
                dots: true,
                animateOut: 'fadeOut',
                animateIn: 'fadeIn',
                navText: ['<span class="icon-arrow-left">', '<span class="icon-arrow-right">'],
                autoHeight: true,
                responsiveRefreshRate: 100,
                responsive: {
                  0: { items: 1 },
                  600: { items: 1 },
                  1000: { items: 1 }
                }
              });
              $carousel.on('initialized.owl.carousel', () => $carousel.trigger('refresh.owl.carousel'));
              $carousel.trigger('refresh.owl.carousel');
              console.log('🎠 Carousel del hero reinicializado correctamente');
            }, 100);
          }
        } catch (error) {
          console.error('❌ Error reinicializando el carousel:', error);
        }
      }
    }
    
    // Función para mostrar errores
    function mostrarError(mensaje) {
      const container = document.getElementById('propiedades-container');
      container.innerHTML = `
        <div class="col-12 text-center">
          <div class="alert alert-danger">
            <h4>❌ Error</h4>
            <p>${mensaje}</p>
            <button class="btn btn-primary" onclick="cargarPropiedadesMarketing()">
              Reintentar
            </button>
          </div>
        </div>
      `;
    }
    
    // Función para toggle de favoritos
    function toggleFavorito(elemento, proyectoId) {
      const icono = elemento.querySelector('.icon-heart-o');
      elemento.classList.toggle('active');
      
      if (elemento.classList.contains('active')) {
        icono.className = 'icon-heart';
        console.log(`❤️ Agregado a favoritos: ${proyectoId}`);
      } else {
        icono.className = 'icon-heart-o';
        console.log(`💔 Removido de favoritos: ${proyectoId}`);
      }
    }
    
    // Cargar propiedades cuando la página se cargue
    document.addEventListener('DOMContentLoaded', function() {
      console.log('🚀 Página cargada, iniciando carga de propiedades...');
      cargarPropiedadesMarketing();
    });
  </script>
    
  </body>
</html>